<!doctype html>
<html
        lang="ko"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        xmlns:th="http://thymeleaf.org">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
<!--    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.0/css/bootstrap.min.css">-->
<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.0/js/bootstrap.min.js"></script>-->
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
    <!-- JavaScript Bundle with Popper -->
    <!-- fontawsome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- 아이콘 추가 -->
    <link rel="icon" href="/img_files/stepstone_icon.png">

    <!-- css -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
    <style>
        footer {
            left:0px;
            bottom:0px;
            height:60px;
            width:100%;
            background-color: rgb(255 255 255 / 50%);
            border: 1px solid rgba( 255, 255, 255, 0.18 );
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }
        body {
            background: linear-gradient(to bottom, rgba(222, 241, 254, 0.4), rgba(134, 168, 231, 0.5), rgba(127, 127, 213, 0.6));
        }
    </style>

    <title>StepStone</title>
</head>

<!-- 여기에 있는 background를 바꾸면 배경색이 바뀝니다 ! -->
<body style="min-height:100vh;" class="d-flex flex-column">

<!-- 네비게이션바 -->
<header th:replace="navbar :: navbarFragment"></header>

<!-- 기본 템플릿 안에 삽입될 내용 Start -->
<main class="flex-grow-1 my-5 py-5">
    <th:block layout:fragment="content"></th:block>
</main>
<!-- 기본 템플릿 안에 삽입될 내용 End -->

<footer class="site-footer mt-3">
    <div class="container py-3 d-flex justify-content-center">
        Copyright 2022. LIKELION BES STEP STONE all rights reserved
    </div>
</footer>

<!-- 자바스크립트 Start -->
<th:block layout:fragment="script">
<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
<script th:inline="javascript">
    var userId = [[${senderId}]];
    var username = [[${name}]];
    var allRoomId = [[${allRoomId}]];
    var authname = [[${#authentication.principal.user.name}]];
    const sse = new EventSource("http://localhost:8080/notification/connect");
    console.log(authname)
    sse.addEventListener(authname, (e) => {
        const { data: receivedConnectData } = e;
        console.log('connect event data: ',receivedConnectData);  // "connected!"
    });


</script>
<script type="text/javascript"  th:src="@{/js/room.js}"></script>
</th:block>
<!-- 자바스크립트 End -->
</body>
</html>